
interface TMCounterIface {
    procedure get_next_tm_count(&mut self, count : &mut u16);
};

resource class TMCounter provides TMCounterIface {

    tm_count : u16;

    procedure get_next_tm_count(&mut self, count : &mut u16) {

        *count = self->tm_count;
        self->tm_count = (self->tm_count + 1 : u16) & 0x3FFF : u16;

        return;
    }
};